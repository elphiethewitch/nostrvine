{
  "embedding": [
    -0.06056930869817734,
    -0.008318562060594559,
    -0.04012293741106987,
    -0.020148202776908875,
    0.010947390459477901,
    0.001596833229996264,
    0.02876538410782814,
    -0.03594629094004631,
    -0.05886244773864746,
    0.023630810901522636,
    -0.009792154654860497,
    -0.024810373783111572,
    0.0058785672299563885,
    0.0640227347612381,
    0.012392529286444187,
    0.057252999395132065,
    0.0005474635981954634,
    -0.03530335798859596,
    0.022475965321063995,
    -0.030406922101974487,
    -0.017076419666409492,
    0.019727567210793495,
    0.04375265911221504,
    0.0196358785033226,
    -0.040269795805215836,
    -0.09156221896409988,
    -0.0019768965430557728,
    -0.052998099476099014,
    -0.05497566610574722,
    0.0026814902666956186,
    0.057931914925575256,
    0.037931084632873535,
    -0.08565355092287064,
    -0.03270883113145828,
    -0.0088738352060318,
    -0.029174892231822014,
    -0.014550763182342052,
    -0.003935730550438166,
    -0.036969028413295746,
    -0.07372058182954788,
    0.029116317629814148,
    -0.009133543819189072,
    -0.041163720190525055,
    -0.001867322833277285,
    -0.028282616287469864,
    -0.06302409619092941,
    -0.04340749979019165,
    -0.01733897253870964,
    0.07534222304821014,
    0.059554360806941986,
    0.02313857711851597,
    0.014030258171260357,
    -0.05588751658797264,
    -0.04947423189878464,
    0.01776258833706379,
    0.08683803677558899,
    0.0076190703548491,
    0.018898136913776398,
    -0.014349507167935371,
    -0.050011202692985535,
    0.010342651046812534,
    -0.05389321595430374,
    0.016395701095461845,
    -0.0209539532661438,
    -0.07047693431377411,
    0.03078809753060341,
    -0.020927513018250465,
    -0.02439088374376297,
    0.059864308685064316,
    0.02397308498620987,
    -0.025453228503465652,
    0.04136113449931145,
    -0.017160942777991295,
    -0.04948596656322479,
    0.04670524224638939,
    -0.08525567501783371,
    -0.005962228402495384,
    0.07493486255407333,
    -0.06376262754201889,
    -0.12001411616802216,
    -0.02712937816977501,
    -0.00833706371486187,
    -0.04880519583821297,
    0.03363926708698273,
    -0.01431120652705431,
    -0.008534615859389305,
    -0.03872089087963104,
    -0.030310133472085,
    0.056411027908325195,
    0.035174231976270676,
    0.02024645358324051,
    -0.015403731726109982,
    -0.005410322919487953,
    -0.06331667304039001,
    0.0859738439321518,
    -0.060828644782304764,
    -0.029234914109110832,
    0.013971271924674511,
    -0.08251187950372696,
    0.015447614714503288,
    -0.01746709831058979,
    0.0015372670022770762,
    -0.012830157764256,
    0.09370114654302597,
    0.08113511651754379,
    -0.02151932194828987,
    0.10147770494222641,
    -0.057172589004039764,
    -0.01671815663576126,
    0.05512961372733116,
    -0.01744099147617817,
    -0.05351290479302406,
    0.11140917986631393,
    0.006184318568557501,
    0.009372053667902946,
    -0.02414976805448532,
    0.0009015772375278175,
    0.044693272560834885,
    0.024765590205788612,
    0.054372645914554596,
    0.06500086188316345,
    -0.036078501492738724,
    0.03363495692610741,
    -0.08084146678447723,
    -0.01740039326250553,
    -0.05532156303524971,
    0.0822809711098671,
    6.141878269835787e-33,
    0.009644788689911366,
    0.006749910768121481,
    -0.07336646318435669,
    0.052164167165756226,
    0.016026701778173447,
    0.01019122265279293,
    0.020216168835759163,
    -0.017725197598338127,
    -0.03229942172765732,
    -0.04814344644546509,
    -0.05152776837348938,
    0.053667619824409485,
    -0.03213745728135109,
    -0.044244516640901566,
    -0.0468810610473156,
    -0.047009024769067764,
    0.03130558505654335,
    0.036457307636737823,
    0.07056818902492523,
    0.015424625016748905,
    0.08738714456558228,
    -0.0634867250919342,
    -0.017183199524879456,
    -0.052907995879650116,
    0.01926019787788391,
    -0.031963784247636795,
    -0.028134305030107498,
    0.044958025217056274,
    -0.038679398596286774,
    -0.004118913318961859,
    0.026011252775788307,
    -0.011259512044489384,
    0.041945017874240875,
    0.03840930014848709,
    -0.08430333435535431,
    -0.04117175191640854,
    0.0009877781849354506,
    -0.025501510128378868,
    0.0073332637548446655,
    -0.11350765079259872,
    -0.021989069879055023,
    -0.0623234398663044,
    -0.06142951175570488,
    0.027011048048734665,
    -0.0392964705824852,
    -0.10374463349580765,
    -0.0011889057932421565,
    0.03411586210131645,
    0.12933588027954102,
    0.06703461706638336,
    -0.06729969382286072,
    -0.00936894305050373,
    -0.0906393900513649,
    -0.11226147413253784,
    -0.0683329850435257,
    -0.11013846844434738,
    -0.12361378222703934,
    0.017657285556197166,
    -0.012240112759172916,
    -0.10568362474441528,
    -0.005800627171993256,
    0.030673785135149956,
    -0.04079145938158035,
    -0.014732670038938522,
    0.01691257208585739,
    0.07262802869081497,
    -0.02674378640949726,
    -0.01021444983780384,
    0.0191640667617321,
    -0.0762188583612442,
    -0.12424541264772415,
    0.014438379555940628,
    -0.0052200728096067905,
    0.01642332598567009,
    0.0008130430360324681,
    -0.01237607654184103,
    0.02648252621293068,
    0.03151466324925423,
    0.0036316129844635725,
    -0.019892798736691475,
    0.030683869495987892,
    -0.0354701466858387,
    -0.10390426218509674,
    0.08234576880931854,
    0.0598125085234642,
    -0.01670886017382145,
    0.050894252955913544,
    -0.06738193333148956,
    -0.06450048834085464,
    0.0712524950504303,
    0.04952603951096535,
    -0.0010100951185449958,
    0.12094811350107193,
    0.04215359315276146,
    0.023760709911584854,
    -8.71634203922511e-33,
    0.017425956204533577,
    -0.030926428735256195,
    -0.037431616336107254,
    0.02756463922560215,
    0.05073965713381767,
    -0.02973802760243416,
    0.05223534628748894,
    0.04743305593729019,
    0.044160787016153336,
    -0.04326741397380829,
    0.003713940968737006,
    0.08182286471128464,
    0.09632543474435806,
    -0.004689204040914774,
    -0.010016529820859432,
    0.039880622178316116,
    0.03975098207592964,
    0.030886562541127205,
    -0.030697502195835114,
    0.017568089067935944,
    -0.0026845168322324753,
    0.08188910782337189,
    -0.062217388302087784,
    -0.05688979849219322,
    0.0003235300537198782,
    0.015242299996316433,
    0.0436718575656414,
    0.010258720256388187,
    -0.07350300997495651,
    -0.03574638068675995,
    0.12066961824893951,
    -0.010428190231323242,
    -0.05920058488845825,
    -0.0007756591658107936,
    0.008599482476711273,
    -0.05383994057774544,
    -0.023434767499566078,
    0.12690654397010803,
    -0.074404276907444,
    0.04276851564645767,
    0.15766984224319458,
    -0.03503239154815674,
    -0.05776788294315338,
    0.028781520202755928,
    0.018500935286283493,
    0.05102898180484772,
    0.1179000586271286,
    -0.02904723398387432,
    -0.13696259260177612,
    0.002817315747961402,
    0.051834963262081146,
    0.0012680459767580032,
    0.04369018226861954,
    -0.006050931755453348,
    0.04341110587120056,
    0.08579090982675552,
    0.10686657577753067,
    -0.03497074171900749,
    0.048087336122989655,
    -0.06882639229297638,
    0.04560268670320511,
    -0.01786695420742035,
    0.006747345440089703,
    0.05409582704305649,
    0.02682015672326088,
    -0.09465490281581879,
    -0.018853047862648964,
    0.10687962174415588,
    0.04762902855873108,
    0.005729437340050936,
    -0.05644805356860161,
    -0.0641382560133934,
    0.07587640732526779,
    0.021106110885739326,
    0.09706196188926697,
    -0.02327912300825119,
    0.031306780874729156,
    -0.10485375672578812,
    -0.017143452540040016,
    0.013304568827152252,
    -0.08635687083005905,
    0.02990814298391342,
    -0.016299348324537277,
    -0.1105056181550026,
    0.01886938139796257,
    -0.06942353397607803,
    -0.08085405826568604,
    0.037168167531490326,
    0.03612543269991875,
    0.1119806244969368,
    0.006090966984629631,
    -0.04779887571930885,
    -0.030633892863988876,
    -0.05133916065096855,
    -0.0607483945786953,
    -5.5698109235891025e-8,
    -0.020110733807086945,
    0.028727542608976364,
    0.015637744218111038,
    0.02011183649301529,
    0.02449437789618969,
    -0.011659001000225544,
    0.05024030804634094,
    -0.02110426127910614,
    -0.039693016558885574,
    -0.05513549968600273,
    0.009251846931874752,
    0.0858960971236229,
    -0.06092112883925438,
    -0.04363923892378807,
    0.02003549225628376,
    0.012243778444826603,
    0.04883043095469475,
    -0.0030193226411938667,
    -0.05374585837125778,
    0.007024398073554039,
    -0.068270742893219,
    -0.04916359856724739,
    -0.03727206960320473,
    0.057527683675289154,
    -0.0636802464723587,
    0.0064623369835317135,
    0.0025258297100663185,
    -0.04592829570174217,
    0.006942215841263533,
    -0.011679117567837238,
    -0.007550432346761227,
    -0.01823139190673828,
    0.054135289043188095,
    -0.004735871683806181,
    -0.11200632154941559,
    0.05408820882439613,
    0.07991448044776917,
    0.0568091943860054,
    0.03697742894291878,
    0.017300764098763466,
    0.03959755226969719,
    0.020265301689505577,
    0.029178157448768616,
    -0.04310361295938492,
    -0.09363162517547607,
    0.07910171151161194,
    0.0018381717381998897,
    0.015198641456663609,
    -0.0053868903778493404,
    -0.036641769111156464,
    -0.05606195330619812,
    -0.00048044658615253866,
    0.038844943046569824,
    0.013489278964698315,
    0.04276445135474205,
    0.002251018537208438,
    -0.021161766722798347,
    -0.030782656744122505,
    0.02104773186147213,
    -0.041101690381765366,
    0.06217825785279274,
    0.05611834302544594,
    0.06116219609975815,
    -0.022752024233341217
  ],
  "text": "Successfully implemented mandatory TOS acceptance flow that blocks app access until accepted.\n\n**IMPLEMENTATION:**\n\n1. **Router Redirect** (app_router.dart):\n   - Added async redirect check using SharedPreferences\n   - Checks `age_verified_16_plus` key on every route\n   - Redirects to `/welcome` if not accepted (except `/welcome` itself)\n   - Added `/welcome` route outside ShellRoute (no bottom nav)\n\n2. **Welcome Screen Updates** (welcome_screen.dart):\n   - Added `isAuthenticated` check via authServiceProvider\n   - Conditional UI:\n     - If authenticated: Show single \"Continue\" button → navigates to `/home/0`\n     - If not authenticated: Show \"Create New Identity\" + \"Import Identity\" buttons → original flow\n   - Added `_acceptTermsAndContinue()` method with loading state\n   - Uses `context.go('/home/0')` instead of Navigator.push\n   - Added `_isAccepting` boolean for loading indicator\n\n**USER FLOWS:**\n\n**New User (Not Authenticated)**:\n1. App starts → router redirects to `/welcome`\n2. Check TOS + Age boxes → \"Create New Identity\" enabled\n3. Click button → TOS stored → ProfileSetupScreen → home\n\n**Existing User (Authenticated, No TOS)**:\n1. App starts → router redirects to `/welcome`\n2. Check TOS + Age boxes → \"Continue\" enabled\n3. Click Continue → TOS stored → navigate to `/home/0`\n\n**Returning User (TOS Accepted)**:\n1. App starts → router checks TOS → passes → loads normal route\n\n**COMMITS:**\n- 4350a2d: Initial TOS acceptance UI + documentation\n- 966271f: Router enforcement + conditional Welcome screen UI\n\n**TESTING NEEDED:**\n- Clear SharedPreferences (`age_verified_16_plus`)\n- Open app → should show Welcome screen\n- Accept TOS → should navigate to home/identity creation\n- Close/reopen app → should NOT show Welcome screen again",
  "sections": [
    "Project Notes",
    "TOS Acceptance Flow Implementation (Nov 6, 2025)"
  ],
  "timestamp": 1762384960548,
  "path": "/Users/rabble/code/andotherstuff/openvine/mobile/.private-journal/2025-11-06/12-22-40-548340.md"
}